[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------< org.example:core-banking-system >-------------------
[INFO] Building Core Banking System 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.3.2:clean (default-clean) @ core-banking-system ---
[INFO] Deleting C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend\target
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ core-banking-system ---
[INFO] Copying 3 resources from src\main\resources to target\classes
[INFO] Copying 6 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ core-banking-system ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 60 source files with javac [debug release 21] to target\classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ core-banking-system ---
[INFO] skip non existing resourceDirectory C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend\src\test\resources
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ core-banking-system ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 18 source files with javac [debug release 21] to target\test-classes
[INFO] /C:/Users/Sudhan S/OneDrive/Desktop/projects/Core-banking-system/core-banking-system-backend/src/test/java/com/cbs/integration/TransactionIntegrationTest.java: C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend\src\test\java\com\cbs\integration\TransactionIntegrationTest.java uses unchecked or unsafe operations.
[INFO] /C:/Users/Sudhan S/OneDrive/Desktop/projects/Core-banking-system/core-banking-system-backend/src/test/java/com/cbs/integration/TransactionIntegrationTest.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- surefire:3.1.2:test (default-test) @ core-banking-system ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.cbs.controller.AccountControllerTest
23:37:42.441 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.cbs.controller.AccountControllerTest]: AccountControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
23:37:42.776 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.cbs.CbsApplication for test class com.cbs.controller.AccountControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:37:43.638+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.controller.AccountControllerTest   : Starting AccountControllerTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:37:43.641+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.controller.AccountControllerTest   : The following 1 profile is active: "dev"
WARNING: A Java agent has been loaded dynamically (C:\Users\Sudhan S\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.10\byte-buddy-agent-1.14.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
=== Environment Check ===
Database URL: jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:5432/postgres
Database Username: postgres.miuwbzospgctawtkhwwj
========================
2025-12-10T23:37:49.449+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fa212df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cf8a235, org.springframework.security.web.context.SecurityContextHolderFilter@15cee630, org.springframework.security.web.header.HeaderWriterFilter@69a90b81, org.springframework.web.filter.CorsFilter@6e3b2dd3, org.springframework.security.web.authentication.logout.LogoutFilter@986b619, com.cbs.config.JwtAuthenticationFilter@539316bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@246de37e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19647566, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@238ad211, org.springframework.security.web.session.SessionManagementFilter@3451fc88, org.springframework.security.web.access.ExceptionTranslationFilter@2e4ecdf8, org.springframework.security.web.access.intercept.AuthorizationFilter@225e09f0]
2025-12-10T23:37:50.405+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-12-10T23:37:50.406+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-10T23:37:50.409+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-12-10T23:37:50.496+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.controller.AccountControllerTest   : Started AccountControllerTest in 7.563 seconds (process running for 10.028)
2025-12-10T23:37:50.972+05:30  WARN 22688 --- [core-banking-system] [           main] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/accounts/user/1' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.22 s -- in com.cbs.controller.AccountControllerTest
[INFO] Running com.cbs.controller.AuthControllerTest
2025-12-10T23:37:52.088+05:30  INFO 22688 --- [core-banking-system] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.cbs.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-10T23:37:52.099+05:30  INFO 22688 --- [core-banking-system] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.cbs.CbsApplication for test class com.cbs.controller.AuthControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:37:52.239+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.AuthControllerTest    : Starting AuthControllerTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:37:52.239+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.controller.AuthControllerTest    : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:37:52.239+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.AuthControllerTest    : The following 1 profile is active: "test"
2025-12-10T23:37:52.246+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6dc2e473
2025-12-10T23:37:54.504+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-10T23:37:54.952+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-12-10T23:37:54.956+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-10T23:37:55.106+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.22.3 by Redgate
2025-12-10T23:37:55.106+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi
2025-12-10T23:37:55.107+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.internal.license.VersionPrinter    : 
2025-12-10T23:37:55.116+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/callback' ...
2025-12-10T23:37:55.116+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/callback using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e ...
2025-12-10T23:37:55.116+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/callback.
2025-12-10T23:37:55.116+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/migration' ...
2025-12-10T23:37:55.116+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e ...
2025-12-10T23:37:55.117+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/migration.
2025-12-10T23:37:55.117+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classes at classpath:db/migration
2025-12-10T23:37:55.219+05:30  INFO 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:h2:mem:testdb (H2 2.2)
2025-12-10T23:37:55.220+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Driver: H2 JDBC Driver 2.2.224 (2023-09-17)
2025-12-10T23:37:55.220+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : DDL Transactions Supported: false
2025-12-10T23:37:55.223+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Schemas: 
2025-12-10T23:37:55.223+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Default schema: null
2025-12-10T23:37:55.233+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-12-10T23:37:55.237+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.c.SqlScriptCallbackFactory       : Scanning for SQL callbacks ...
2025-12-10T23:37:55.260+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Validating migrations ...
2025-12-10T23:37:55.274+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-12-10T23:37:55.277+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 0 migrations (execution time 00:00.015s)
2025-12-10T23:37:55.279+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : No migrations found. Are your locations set up correctly?
2025-12-10T23:37:55.284+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbSchemas      : Skipping creation of existing schema: "PUBLIC"
2025-12-10T23:37:55.291+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-12-10T23:37:55.307+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.flywaydb.core.internal.parser.Parser   : Parsing  ...
2025-12-10T23:37:55.331+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.sqlscript.ParserSqlScript        : Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE
2025-12-10T23:37:55.331+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.sqlscript.ParserSqlScript        : Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2025-12-10T23:37:55.333+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE
2025-12-10T23:37:55.348+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected
2025-12-10T23:37:55.348+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2025-12-10T23:37:55.351+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected
2025-12-10T23:37:55.351+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Created Schema History table "PUBLIC"."flyway_schema_history"
2025-12-10T23:37:55.363+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2025-12-10T23:37:55.373+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Schema "PUBLIC" is up to date. No migration necessary.
2025-12-10T23:37:55.376+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Memory usage: 64 of 82M
2025-12-10T23:37:55.560+05:30  INFO 22688 --- [core-banking-system] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10T23:37:55.764+05:30  INFO 22688 --- [core-banking-system] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-12-10T23:37:55.847+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-10T23:37:56.207+05:30  WARN 22688 --- [core-banking-system] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10T23:37:57.593+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10T23:37:57.623+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists accounts cascade 
2025-12-10T23:37:57.624+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists kyc cascade 
2025-12-10T23:37:57.625+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists loans cascade 
2025-12-10T23:37:57.625+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-12-10T23:37:57.625+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-12-10T23:37:57.636+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table accounts (
        balance numeric(19,4) not null,
        interest_rate numeric(5,4),
        minimum_balance numeric(19,4),
        overdraft_limit numeric(19,4),
        account_id bigint generated by default as identity,
        branch_id bigint,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint not null,
        account_number varchar(255) not null unique,
        account_type varchar(255) not null check (account_type in ('SAVINGS','CURRENT','FIXED_DEPOSIT','RECURRING_DEPOSIT','SALARY_ACCOUNT')),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','FROZEN','CLOSED','PENDING_APPROVAL')),
        primary key (account_id)
    )
2025-12-10T23:37:57.649+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table kyc (
        is_primary_document boolean,
        created_at timestamp(6) not null,
        expiry_date timestamp(6),
        kyc_id bigint generated by default as identity,
        submission_date timestamp(6),
        updated_at timestamp(6),
        user_id bigint not null,
        verification_date timestamp(6),
        verified_by bigint,
        additional_info TEXT,
        document_hash varchar(255),
        document_number varchar(255) not null,
        document_type varchar(255) not null check (document_type in ('AADHAAR_CARD','PAN_CARD','PASSPORT','VOTER_ID','DRIVING_LICENSE','BANK_STATEMENT','UTILITY_BILL','PASSPORT_PHOTO','SIGNATURE','ADDRESS_PROOF','INCOME_PROOF','IDENTITY_PROOF')),
        document_url varchar(255),
        rejection_reason varchar(255),
        status varchar(255) not null check (status in ('PENDING','SUBMITTED','UNDER_REVIEW','APPROVED','REJECTED','EXPIRED','RESUBMISSION_REQUIRED')),
        primary key (kyc_id)
    )
2025-12-10T23:37:57.652+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table loans (
        application_date date not null,
        approval_date date,
        collateral_value numeric(19,4) not null,
        disbursement_date date,
        interest_rate numeric(5,4) not null,
        late_payment_penalty numeric(19,4) not null,
        loan_term_months integer not null,
        maturity_date date,
        monthly_payment numeric(19,4) not null,
        principal_amount numeric(19,4) not null,
        processing_fees numeric(19,4) not null,
        total_interest numeric(19,4) not null,
        account_id bigint not null,
        created_at timestamp(6) not null,
        guarantor_id bigint not null,
        loan_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        collateral_type varchar(255) not null,
        interest_type varchar(255) not null,
        loan_type varchar(255) not null check (loan_type in ('PERSONAL','HOME_LOAN','AUTO_LOAN','BUSINESS_LOAN','MORTGAGE','EDUCATION_LOAN','DEBT_CONSOLIDATION')),
        status varchar(255) not null check (status in ('PENDING_APPROVAL','APPROVED','ACTIVE','IN_REPAYMENT','DEFAULTED','CLOSED','WRITTEN_OFF','RESTRUCTURED')),
        primary key (loan_id)
    )
2025-12-10T23:37:57.656+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(19,4) not null,
        balance_after numeric(19,4),
        fee_amount numeric(19,4),
        created_at timestamp(6) not null,
        destination_account_id bigint,
        related_transaction_id bigint,
        source_account_id bigint,
        transaction_date timestamp(6) not null,
        transaction_id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        description varchar(255),
        status varchar(255) not null check (status in ('PENDING','COMPLETED','FAILED','REVERSED','CANCELLED')),
        transaction_reference varchar(255) not null unique,
        transaction_type varchar(255) not null check (transaction_type in ('DEPOSIT','WITHDRAWAL','TRANSFER','INTEREST_CREDIT','FEE_DEDUCTION','LOAN_DISBURSEMENT','LOAN_REPAYMENT','REFUND')),
        primary key (transaction_id)
    )
2025-12-10T23:37:57.660+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint generated by default as identity,
        email varchar(255) not null unique,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        phone_number varchar(255),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','SUSPENDED','PENDING_VERIFICATION')),
        username varchar(255) not null unique,
        primary key (user_id)
    )
=== Environment Check ===
Database URL: jdbc:h2:mem:testdb
Database Username: sa
========================
2025-12-10T23:37:59.674+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.service.impl.KYCServiceImpl      : KYC upload directory initialized at: C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend\uploads\kyc
2025-12-10T23:38:00.008+05:30  WARN 22688 --- [core-banking-system] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10T23:38:00.135+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 61 mappings in 'requestMappingHandlerMapping'
2025-12-10T23:38:00.242+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-10T23:38:00.671+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-10T23:38:00.680+05:30 DEBUG 22688 --- [core-banking-system] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-10T23:38:00.944+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-10T23:38:00.961+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.AuthControllerTest    : Started AuthControllerTest in 8.839 seconds (process running for 20.494)
2025-12-10T23:38:00.988+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AuthController#authenticateUser(LoginRequest)
2025-12-10T23:38:01.013+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.LoginRequest@34d4aea7]
2025-12-10T23:38:01.031+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.032+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.JwtResponse@7d576ea9]
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.959 s -- in com.cbs.controller.AuthControllerTest
[INFO] Running com.cbs.controller.LoanControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:38:01.125+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.LoanControllerTest    : Starting LoanControllerTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:38:01.125+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.controller.LoanControllerTest    : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:38:01.125+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.LoanControllerTest    : The following 1 profile is active: "dev"
2025-12-10T23:38:01.129+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@64298cad
=== Environment Check ===
Database URL: jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:5432/postgres
Database Username: postgres.miuwbzospgctawtkhwwj
========================
2025-12-10T23:38:01.561+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 8 mappings in 'requestMappingHandlerMapping'
2025-12-10T23:38:01.612+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-10T23:38:01.617+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b44d50b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@84fb597, org.springframework.security.web.context.SecurityContextHolderFilter@7c060680, org.springframework.security.web.header.HeaderWriterFilter@42e08ff1, org.springframework.web.filter.CorsFilter@21219074, org.springframework.security.web.authentication.logout.LogoutFilter@3f81872b, com.cbs.config.JwtAuthenticationFilter@5a7ec872, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e80ba38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8d92b1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4beea618, org.springframework.security.web.session.SessionManagementFilter@12cd321d, org.springframework.security.web.access.ExceptionTranslationFilter@7d49efaf, org.springframework.security.web.access.intercept.AuthorizationFilter@355bffcf]
2025-12-10T23:38:01.666+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-10T23:38:01.672+05:30 DEBUG 22688 --- [core-banking-system] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-10T23:38:01.693+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-10T23:38:01.694+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-12-10T23:38:01.694+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-10T23:38:01.695+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-12-10T23:38:01.702+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.LoanControllerTest    : Started LoanControllerTest in 0.631 seconds (process running for 21.235)
2025-12-10T23:38:01.715+05:30  WARN 22688 --- [core-banking-system] [           main] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/loans/user/1' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-10T23:38:01.716+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoansByUserId(Long)
2025-12-10T23:38:01.720+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.721+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.LoanResponse@483010b3]]
2025-12-10T23:38:01.747+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoanById(Long)
2025-12-10T23:38:01.753+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.754+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-12-10T23:38:01.767+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#applyForLoan(LoanApplicationRequest)
2025-12-10T23:38:01.773+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.LoanApplicationRequest@36f1262c]
2025-12-10T23:38:01.784+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.784+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.LoanResponse@2dfa0bff]
2025-12-10T23:38:01.793+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoansByType(LoanType)
2025-12-10T23:38:01.797+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.798+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.LoanResponse@72a25716]]
2025-12-10T23:38:01.806+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoanById(Long)
2025-12-10T23:38:01.808+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.808+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.LoanResponse@5a318de1]
2025-12-10T23:38:01.815+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoansByAccountId(Long)
2025-12-10T23:38:01.816+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.816+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.LoanResponse@7794926]]
2025-12-10T23:38:01.825+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.LoanController#getLoansByStatus(LoanStatus)
2025-12-10T23:38:01.826+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:01.826+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.LoanResponse@5bc369e8]]
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.783 s -- in com.cbs.controller.LoanControllerTest
[INFO] Running com.cbs.controller.TransactionControllerTest
2025-12-10T23:38:01.839+05:30  INFO 22688 --- [core-banking-system] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.cbs.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-10T23:38:01.849+05:30  INFO 22688 --- [core-banking-system] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.cbs.CbsApplication for test class com.cbs.controller.TransactionControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:38:01.905+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.c.TransactionControllerTest          : Starting TransactionControllerTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:38:01.905+05:30 DEBUG 22688 --- [core-banking-system] [           main] c.c.c.TransactionControllerTest          : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:38:01.905+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.c.TransactionControllerTest          : The following 1 profile is active: "dev"
2025-12-10T23:38:01.910+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@46807718
=== Environment Check ===
Database URL: jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:5432/postgres
Database Username: postgres.miuwbzospgctawtkhwwj
========================
2025-12-10T23:38:02.340+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 19 mappings in 'requestMappingHandlerMapping'
2025-12-10T23:38:02.374+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-10T23:38:02.377+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46e1702d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c343bbf, org.springframework.security.web.context.SecurityContextHolderFilter@20b97637, org.springframework.security.web.header.HeaderWriterFilter@73c82ec1, org.springframework.web.filter.CorsFilter@53cde2dc, org.springframework.security.web.authentication.logout.LogoutFilter@5f0cac72, com.cbs.config.JwtAuthenticationFilter@16a151ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@305db32d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d12dc1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53fa654c, org.springframework.security.web.session.SessionManagementFilter@54669c4, org.springframework.security.web.access.ExceptionTranslationFilter@7f5df538, org.springframework.security.web.access.intercept.AuthorizationFilter@92132c3]
2025-12-10T23:38:02.401+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-10T23:38:02.402+05:30 DEBUG 22688 --- [core-banking-system] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-10T23:38:02.415+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-10T23:38:02.415+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-12-10T23:38:02.415+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-10T23:38:02.415+05:30  INFO 22688 --- [core-banking-system] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-12-10T23:38:02.421+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.c.TransactionControllerTest          : Started TransactionControllerTest in 0.567 seconds (process running for 21.954)
2025-12-10T23:38:02.430+05:30  WARN 22688 --- [core-banking-system] [           main] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/transactions/user/1' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-10T23:38:02.431+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionsByUserId(Long)
2025-12-10T23:38:02.434+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.434+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.TransactionResponse@562c23ca]]
2025-12-10T23:38:02.449+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTotalDebits(Long)
2025-12-10T23:38:02.450+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.450+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalDebits=1500.00}]
2025-12-10T23:38:02.460+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionById(Long)
2025-12-10T23:38:02.465+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.465+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@4d763525]
2025-12-10T23:38:02.477+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#deposit(DepositRequest)
2025-12-10T23:38:02.480+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.DepositRequest@5bebff4b]
2025-12-10T23:38:02.488+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.489+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@5a8a98c7]
2025-12-10T23:38:02.495+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTotalCredits(Long)
2025-12-10T23:38:02.496+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.496+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalCredits=2000.00}]
2025-12-10T23:38:02.505+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#reverseTransaction(Long)
2025-12-10T23:38:02.506+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.506+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@438e6a90]
2025-12-10T23:38:02.514+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#withdraw(WithdrawalRequest)
2025-12-10T23:38:02.516+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.WithdrawalRequest@4f847b48]
2025-12-10T23:38:02.521+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.521+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Insufficient balance}]
2025-12-10T23:38:02.532+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#transfer(TransferRequest)
2025-12-10T23:38:02.534+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.TransferRequest@503224b4]
2025-12-10T23:38:02.538+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.538+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@6831b1f6]
2025-12-10T23:38:02.546+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#withdraw(WithdrawalRequest)
2025-12-10T23:38:02.546+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.WithdrawalRequest@7c4b7f2e]
2025-12-10T23:38:02.547+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.548+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@60b16a5b]
2025-12-10T23:38:02.558+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionById(Long)
2025-12-10T23:38:02.559+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.559+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-12-10T23:38:02.565+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionsByAccountId(Long)
2025-12-10T23:38:02.567+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:02.567+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.TransactionResponse@4fb7a903]]
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.734 s -- in com.cbs.controller.TransactionControllerTest
[INFO] Running com.cbs.controller.UserControllerTest
2025-12-10T23:38:02.576+05:30  INFO 22688 --- [core-banking-system] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.cbs.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-10T23:38:02.585+05:30  INFO 22688 --- [core-banking-system] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.cbs.CbsApplication for test class com.cbs.controller.UserControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:38:02.639+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.UserControllerTest    : Starting UserControllerTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:38:02.639+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.controller.UserControllerTest    : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:38:02.639+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.UserControllerTest    : The following 1 profile is active: "test"
2025-12-10T23:38:02.643+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@a2996bc
=== Environment Check ===
Database URL: jdbc:h2:mem:testdb
Database Username: sa
========================
2025-12-10T23:38:03.039+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2025-12-10T23:38:03.093+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-10T23:38:03.129+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-10T23:38:03.132+05:30 DEBUG 22688 --- [core-banking-system] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-10T23:38:03.160+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-10T23:38:03.166+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.controller.UserControllerTest    : Started UserControllerTest in 0.575 seconds (process running for 22.699)
2025-12-10T23:38:03.175+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getAllUsers()
2025-12-10T23:38:03.176+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.176+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.UserResponse@26e178d1]]
2025-12-10T23:38:03.186+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getUserByUsername(String)
2025-12-10T23:38:03.191+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.191+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@3f05744b]
2025-12-10T23:38:03.197+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getUserById(Long)
2025-12-10T23:38:03.199+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.199+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@35e05c6d]
2025-12-10T23:38:03.206+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#checkUsernameExists(String)
2025-12-10T23:38:03.208+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.209+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-12-10T23:38:03.215+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getUserById(Long)
2025-12-10T23:38:03.216+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.216+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-12-10T23:38:03.224+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#deleteUser(Long)
2025-12-10T23:38:03.225+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.226+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-12-10T23:38:03.242+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#updateUser(Long, UserRegistrationRequest)
2025-12-10T23:38:03.244+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@389a070e]
2025-12-10T23:38:03.294+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.294+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@356b37dd]
2025-12-10T23:38:03.302+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:03.303+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@1839f0c4]
2025-12-10T23:38:03.346+05:30  WARN 22688 --- [core-banking-system] [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.cbs.model.dto.response.UserResponse> com.cbs.controller.UserController.registerUser(com.cbs.model.dto.request.UserRegistrationRequest) with 6 errors: [Field error in object 'userRegistrationRequest' on field 'username': rejected value []; codes [NotBlank.userRegistrationRequest.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.username,username]; arguments []; default message [username]]; default message [Username is required]] [Field error in object 'userRegistrationRequest' on field 'lastName': rejected value [null]; codes [NotBlank.userRegistrationRequest.lastName,NotBlank.lastName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.lastName,lastName]; arguments []; default message [lastName]]; default message [Last name is required]] [Field error in object 'userRegistrationRequest' on field 'email': rejected value [null]; codes [NotBlank.userRegistrationRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] [Field error in object 'userRegistrationRequest' on field 'username': rejected value []; codes [Size.userRegistrationRequest.username,Size.username,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.username,username]; arguments []; default message [username],20,4]; default message [Username must be between 4 and 20 characters]] [Field error in object 'userRegistrationRequest' on field 'firstName': rejected value [null]; codes [NotBlank.userRegistrationRequest.firstName,NotBlank.firstName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.firstName,firstName]; arguments []; default message [firstName]]; default message [First name is required]] [Field error in object 'userRegistrationRequest' on field 'password': rejected value [null]; codes [NotBlank.userRegistrationRequest.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userRegistrationRequest.password,password]; arguments []; default message [password]]; default message [Password is required]] ]
2025-12-10T23:38:03.356+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:03.356+05:30 DEBUG 22688 --- [core-banking-system] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@4cfe2c78]
2025-12-10T23:38:03.360+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.361+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@41566d56]
2025-12-10T23:38:03.368+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#checkEmailExists(String)
2025-12-10T23:38:03.370+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-12-10T23:38:03.370+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.823 s -- in com.cbs.controller.UserControllerTest
[INFO] Running com.cbs.integration.AccountIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:38:03.519+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.integration.AccountIntegrationTest   : Starting AccountIntegrationTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:38:03.519+05:30 DEBUG 22688 --- [core-banking-system] [           main] c.c.integration.AccountIntegrationTest   : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:38:03.519+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.integration.AccountIntegrationTest   : The following 1 profile is active: "test"
2025-12-10T23:38:04.460+05:30  INFO 22688 --- [core-banking-system] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-10T23:38:04.462+05:30  INFO 22688 --- [core-banking-system] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-10T23:38:04.582+05:30  INFO 22688 --- [core-banking-system] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-10T23:38:04.633+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-10T23:38:04.634+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-12-10T23:38:04.634+05:30  INFO 22688 --- [core-banking-system] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-10T23:38:04.640+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/callback' ...
2025-12-10T23:38:04.640+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e
 ...
2025-12-10T23:38:04.640+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/callback.
2025-12-10T23:38:04.644+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/migration' ...
2025-12-10T23:38:04.644+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e
 ...
2025-12-10T23:38:04.644+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/migration.
2025-12-10T23:38:04.644+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classes at classpath:db/migration
2025-12-10T23:38:04.646+05:30  INFO 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:h2:mem:testdb (H2 2.2)
2025-12-10T23:38:04.646+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Driver: H2 JDBC Driver 2.2.224 (2023-09-17)
2025-12-10T23:38:04.646+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : DDL Transactions Supported: false
2025-12-10T23:38:04.647+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Schemas: 
2025-12-10T23:38:04.647+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Default schema: null
2025-12-10T23:38:04.648+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-12-10T23:38:04.648+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.c.SqlScriptCallbackFactory       : Scanning for SQL callbacks ...
2025-12-10T23:38:04.648+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Validating migrations ...
2025-12-10T23:38:04.650+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 0 migrations (execution time 00:00.001s)
2025-12-10T23:38:04.650+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : No migrations found. Are your locations set up correctly?
2025-12-10T23:38:04.650+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbSchemas      : Skipping creation of existing schema: "PUBLIC"
2025-12-10T23:38:04.654+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2025-12-10T23:38:04.654+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Schema "PUBLIC" is up to date. No migration necessary.
2025-12-10T23:38:04.655+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Memory usage: 75 of 120M
2025-12-10T23:38:04.690+05:30  INFO 22688 --- [core-banking-system] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10T23:38:04.698+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-10T23:38:04.713+05:30  WARN 22688 --- [core-banking-system] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10T23:38:04.990+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10T23:38:04.991+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists accounts cascade 
2025-12-10T23:38:04.995+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists kyc cascade 
2025-12-10T23:38:04.996+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists loans cascade 
2025-12-10T23:38:04.998+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-12-10T23:38:05.000+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-12-10T23:38:05.003+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table accounts (
        balance numeric(19,4) not null,
        interest_rate numeric(5,4),
        minimum_balance numeric(19,4),
        overdraft_limit numeric(19,4),
        account_id bigint generated by default as identity,
        branch_id bigint,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint not null,
        account_number varchar(255) not null unique,
        account_type varchar(255) not null check (account_type in ('SAVINGS','CURRENT','FIXED_DEPOSIT','RECURRING_DEPOSIT','SALARY_ACCOUNT')),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','FROZEN','CLOSED','PENDING_APPROVAL')),
        primary key (account_id)
    )
2025-12-10T23:38:05.007+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table kyc (
        is_primary_document boolean,
        created_at timestamp(6) not null,
        expiry_date timestamp(6),
        kyc_id bigint generated by default as identity,
        submission_date timestamp(6),
        updated_at timestamp(6),
        user_id bigint not null,
        verification_date timestamp(6),
        verified_by bigint,
        additional_info TEXT,
        document_hash varchar(255),
        document_number varchar(255) not null,
        document_type varchar(255) not null check (document_type in ('AADHAAR_CARD','PAN_CARD','PASSPORT','VOTER_ID','DRIVING_LICENSE','BANK_STATEMENT','UTILITY_BILL','PASSPORT_PHOTO','SIGNATURE','ADDRESS_PROOF','INCOME_PROOF','IDENTITY_PROOF')),
        document_url varchar(255),
        rejection_reason varchar(255),
        status varchar(255) not null check (status in ('PENDING','SUBMITTED','UNDER_REVIEW','APPROVED','REJECTED','EXPIRED','RESUBMISSION_REQUIRED')),
        primary key (kyc_id)
    )
2025-12-10T23:38:05.009+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table loans (
        application_date date not null,
        approval_date date,
        collateral_value numeric(19,4) not null,
        disbursement_date date,
        interest_rate numeric(5,4) not null,
        late_payment_penalty numeric(19,4) not null,
        loan_term_months integer not null,
        maturity_date date,
        monthly_payment numeric(19,4) not null,
        principal_amount numeric(19,4) not null,
        processing_fees numeric(19,4) not null,
        total_interest numeric(19,4) not null,
        account_id bigint not null,
        created_at timestamp(6) not null,
        guarantor_id bigint not null,
        loan_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        collateral_type varchar(255) not null,
        interest_type varchar(255) not null,
        loan_type varchar(255) not null check (loan_type in ('PERSONAL','HOME_LOAN','AUTO_LOAN','BUSINESS_LOAN','MORTGAGE','EDUCATION_LOAN','DEBT_CONSOLIDATION')),
        status varchar(255) not null check (status in ('PENDING_APPROVAL','APPROVED','ACTIVE','IN_REPAYMENT','DEFAULTED','CLOSED','WRITTEN_OFF','RESTRUCTURED')),
        primary key (loan_id)
    )
2025-12-10T23:38:05.012+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(19,4) not null,
        balance_after numeric(19,4),
        fee_amount numeric(19,4),
        created_at timestamp(6) not null,
        destination_account_id bigint,
        related_transaction_id bigint,
        source_account_id bigint,
        transaction_date timestamp(6) not null,
        transaction_id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        description varchar(255),
        status varchar(255) not null check (status in ('PENDING','COMPLETED','FAILED','REVERSED','CANCELLED')),
        transaction_reference varchar(255) not null unique,
        transaction_type varchar(255) not null check (transaction_type in ('DEPOSIT','WITHDRAWAL','TRANSFER','INTEREST_CREDIT','FEE_DEDUCTION','LOAN_DISBURSEMENT','LOAN_REPAYMENT','REFUND')),
        primary key (transaction_id)
    )
2025-12-10T23:38:05.015+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint generated by default as identity,
        email varchar(255) not null unique,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        phone_number varchar(255),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','SUSPENDED','PENDING_VERIFICATION')),
        username varchar(255) not null unique,
        primary key (user_id)
    )
2025-12-10T23:38:05.190+05:30 DEBUG 22688 --- [core-banking-system] [           main] com.cbs.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
=== Environment Check ===
Database URL: jdbc:h2:mem:testdb
Database Username: sa
========================
2025-12-10T23:38:05.379+05:30  INFO 22688 --- [core-banking-system] [           main] com.cbs.service.impl.KYCServiceImpl      : KYC upload directory initialized at: C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend\uploads\kyc
2025-12-10T23:38:05.501+05:30  WARN 22688 --- [core-banking-system] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10T23:38:05.560+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 61 mappings in 'requestMappingHandlerMapping'
2025-12-10T23:38:05.608+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-12-10T23:38:05.666+05:30 DEBUG 22688 --- [core-banking-system] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-10T23:38:05.672+05:30 DEBUG 22688 --- [core-banking-system] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-10T23:38:05.846+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.integration.AccountIntegrationTest   : Started AccountIntegrationTest in 2.399 seconds (process running for 25.38)
2025-12-10T23:38:05.988+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.031+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.049+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.053+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@19f52861] as "application/json"
2025-12-10T23:38:06.177+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-10T23:38:06.177+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-10T23:38:06.177+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-10T23:38:06.177+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-10T23:38:06.177+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-10T23:38:06.179+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4275ec8f
2025-12-10T23:38:06.179+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@31d23ea5
2025-12-10T23:38:06.180+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-10T23:38:06.180+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-10T23:38:06.188+05:30  WARN 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/accounts' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-12-10T23:38:06.192+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.192+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.198+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@52237f5c]
2025-12-10T23:38:06.212+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.240+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.284+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.306+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 1
2025-12-10T23:38:06.324+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.324+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@1a42c08a]
2025-12-10T23:38:06.330+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.340+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.343+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.358+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/accounts/1
2025-12-10T23:38:06.358+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.362+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/accounts/1", parameters={}
2025-12-10T23:38:06.363+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#getAccountById(Long)
2025-12-10T23:38:06.379+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.393+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.393+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@45b901d2]
2025-12-10T23:38:06.394+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.395+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.395+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.404+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.422+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.428+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.428+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.428+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@179695c7] as "application/json"
2025-12-10T23:38:06.449+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.449+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.450+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@3bfa89ee]
2025-12-10T23:38:06.451+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-3] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.454+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.456+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.458+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-3] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 2
2025-12-10T23:38:06.460+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.460+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@38a51a1d]
2025-12-10T23:38:06.461+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.461+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.461+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.463+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.463+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.463+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@4e4ce44b] as "application/json"
2025-12-10T23:38:06.480+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.480+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.482+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@61acac4b]
2025-12-10T23:38:06.483+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-4] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.485+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.487+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.488+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-4] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 3
2025-12-10T23:38:06.490+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.490+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@51c8b624]
2025-12-10T23:38:06.492+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.492+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.492+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.494+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/accounts/user/1
2025-12-10T23:38:06.495+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.499+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/accounts/user/1", parameters={}
2025-12-10T23:38:06.499+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#getAccountsByUserId(Long)
2025-12-10T23:38:06.504+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=?
2025-12-10T23:38:06.509+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.509+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.AccountResponse@3883aa87, com.cbs.model.dto.response.AccountResponse@333 (truncated)...]
2025-12-10T23:38:06.513+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.513+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.514+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse[]]
2025-12-10T23:38:06.524+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.527+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.528+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.530+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.530+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.530+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@790b51f1] as "application/json"
2025-12-10T23:38:06.544+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.544+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.545+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@6bf31aba]
2025-12-10T23:38:06.546+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-6] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.547+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.549+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.549+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-6] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 4
2025-12-10T23:38:06.552+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.552+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@1a0b362f]
2025-12-10T23:38:06.553+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.553+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.554+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.555+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts/4/deposit
2025-12-10T23:38:06.556+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.556+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [{amount=500.00}] as "application/json"
2025-12-10T23:38:06.574+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts/4/deposit", parameters={}
2025-12-10T23:38:06.574+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#deposit(Long, Map)
2025-12-10T23:38:06.576+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{amount=500.00}]
2025-12-10T23:38:06.577+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.584+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-7] c.cbs.service.impl.AccountServiceImpl    : Deposited 500.00 to account ID: 4
2025-12-10T23:38:06.592+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.600+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.600+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@41fa9a94]
2025-12-10T23:38:06.602+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.602+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.602+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.610+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.613+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.615+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.615+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.615+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@24b190df] as "application/json"
2025-12-10T23:38:06.619+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.619+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.620+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@7987bf1d]
2025-12-10T23:38:06.622+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-8] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.624+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.626+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.627+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-8] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 5
2025-12-10T23:38:06.629+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.629+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@1558604]
2025-12-10T23:38:06.630+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.630+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.630+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.632+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts/5/withdraw
2025-12-10T23:38:06.633+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.633+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [{amount=300.00}] as "application/json"
2025-12-10T23:38:06.652+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts/5/withdraw", parameters={}
2025-12-10T23:38:06.652+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#withdraw(Long, Map)
2025-12-10T23:38:06.654+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{amount=300.00}]
2025-12-10T23:38:06.655+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.657+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-9] c.cbs.service.impl.AccountServiceImpl    : Withdrew 300.00 from account ID: 5
2025-12-10T23:38:06.658+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.658+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.658+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@736bf97]
2025-12-10T23:38:06.660+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.660+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.660+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.667+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.669+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.670+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.671+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.671+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@25c515d9] as "application/json"
2025-12-10T23:38:06.682+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.682+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.682+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@36a523ba]
2025-12-10T23:38:06.683+05:30  INFO 22688 --- [core-banking-system] [-auto-1-exec-10] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.686+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.688+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.690+05:30  INFO 22688 --- [core-banking-system] [-auto-1-exec-10] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 6
2025-12-10T23:38:06.690+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.690+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@78d9885f]
2025-12-10T23:38:06.692+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.692+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.692+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.693+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:59087/api/accounts/6/status
2025-12-10T23:38:06.693+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.693+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [{status=FROZEN}] as "application/json"
2025-12-10T23:38:06.695+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/accounts/6/status", parameters={}
2025-12-10T23:38:06.696+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#updateAccountStatus(Long, Map)
2025-12-10T23:38:06.697+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{status=FROZEN}]
2025-12-10T23:38:06.698+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.700+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] c.cbs.service.impl.AccountServiceImpl    : Account status updated to FROZEN for account ID: 6
2025-12-10T23:38:06.701+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.704+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.704+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@4edcd19b]
2025-12-10T23:38:06.705+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.705+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.705+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.713+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.715+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.717+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/accounts
2025-12-10T23:38:06.717+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.717+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.AccountCreationRequest@46b6ce71] as "application/json"
2025-12-10T23:38:06.727+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/accounts", parameters={}
2025-12-10T23:38:06.729+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#createAccount(AccountCreationRequest)
2025-12-10T23:38:06.730+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.AccountCreationRequest@41f9a15d]
2025-12-10T23:38:06.731+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-2] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:06.732+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.734+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.735+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-2] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 7
2025-12-10T23:38:06.736+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.737+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.AccountResponse@38a579a8]
2025-12-10T23:38:06.738+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.738+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.AccountResponse]
2025-12-10T23:38:06.738+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.740+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/accounts/exists/SB254191538
2025-12-10T23:38:06.740+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.742+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/accounts/exists/SB254191538", parameters={}
2025-12-10T23:38:06.743+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#checkAccountExists(String)
2025-12-10T23:38:06.748+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.752+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.752+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-12-10T23:38:06.753+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.753+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.753+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.lang.Boolean]
2025-12-10T23:38:06.754+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/accounts/exists/NONEXISTENT
2025-12-10T23:38:06.754+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.756+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/accounts/exists/NONEXISTENT", parameters={}
2025-12-10T23:38:06.758+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.AccountController#checkAccountExists(String)
2025-12-10T23:38:06.760+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:06.761+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.761+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-12-10T23:38:06.762+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.762+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.762+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.lang.Boolean]
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.348 s -- in com.cbs.integration.AccountIntegrationTest
[INFO] Running com.cbs.integration.TransactionIntegrationTest
2025-12-10T23:38:06.785+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:06.790+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.792+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.795+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:06.801+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.806+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.809+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.811+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/deposit
2025-12-10T23:38:06.815+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.815+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.DepositRequest@3952fa33] as "application/json"
2025-12-10T23:38:06.822+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/deposit", parameters={}
2025-12-10T23:38:06.822+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#deposit(DepositRequest)
2025-12-10T23:38:06.824+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.DepositRequest@5dce366]
2025-12-10T23:38:06.829+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-5] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 8
2025-12-10T23:38:06.829+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.837+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.840+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-5] c.c.service.impl.TransactionServiceImpl  : Deposit completed successfully. Transaction ID: 1
2025-12-10T23:38:06.840+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.844+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.844+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@49ba67a3]
2025-12-10T23:38:06.845+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.845+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.846+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:06.846+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/1/reverse
2025-12-10T23:38:06.848+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.853+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/1/reverse", parameters={masked}
2025-12-10T23:38:06.854+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#reverseTransaction(Long)
2025-12-10T23:38:06.856+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_id=?
2025-12-10T23:38:06.859+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.862+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.864+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-6] c.c.service.impl.TransactionServiceImpl  : Transaction reversal completed. Original ID: 1, Reversal ID: 2
2025-12-10T23:38:06.865+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    update
        transactions 
    set
        amount=?,
        balance_after=?,
        description=?,
        destination_account_id=?,
        fee_amount=?,
        related_transaction_id=?,
        source_account_id=?,
        status=?,
        transaction_date=?,
        transaction_reference=?,
        transaction_type=?,
        updated_at=?,
        user_id=? 
    where
        transaction_id=?
2025-12-10T23:38:06.867+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.868+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.868+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@7fde02c3]
2025-12-10T23:38:06.869+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.869+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.869+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:06.876+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:06.877+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:06.879+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:06.880+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:06.882+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.883+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:06.886+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:06.888+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:06.890+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.892+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.894+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.897+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/deposit
2025-12-10T23:38:06.897+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.897+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.DepositRequest@16c03f98] as "application/json"
2025-12-10T23:38:06.914+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/deposit", parameters={}
2025-12-10T23:38:06.914+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#deposit(DepositRequest)
2025-12-10T23:38:06.915+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.DepositRequest@131508e7]
2025-12-10T23:38:06.917+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-7] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 10
2025-12-10T23:38:06.918+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.920+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.924+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-7] c.c.service.impl.TransactionServiceImpl  : Deposit completed successfully. Transaction ID: 3
2025-12-10T23:38:06.924+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.926+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.926+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@110559d]
2025-12-10T23:38:06.927+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.927+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.927+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:06.929+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/withdraw
2025-12-10T23:38:06.929+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.930+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.WithdrawalRequest@306e1ba2] as "application/json"
2025-12-10T23:38:06.946+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/withdraw", parameters={}
2025-12-10T23:38:06.947+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#withdraw(WithdrawalRequest)
2025-12-10T23:38:06.948+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.WithdrawalRequest@10095b17]
2025-12-10T23:38:06.953+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-8] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 10
2025-12-10T23:38:06.955+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:06.958+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:06.960+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-8] c.c.service.impl.TransactionServiceImpl  : Withdrawal completed successfully. Transaction ID: 4
2025-12-10T23:38:06.962+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:06.964+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.964+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@3036eabb]
2025-12-10T23:38:06.965+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:06.965+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:06.965+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:06.966+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/transactions/account/10/debits
2025-12-10T23:38:06.966+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.969+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/transactions/account/10/debits", parameters={}
2025-12-10T23:38:06.969+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTotalDebits(Long)
2025-12-10T23:38:06.987+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
2025-12-10T23:38:06.992+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:06.992+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalDebits=500.0000}]
2025-12-10T23:38:06.994+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:06.994+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:06.994+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<?, ?>]
2025-12-10T23:38:06.995+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/transactions/account/10/credits
2025-12-10T23:38:06.995+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:06.997+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/transactions/account/10/credits", parameters={}
2025-12-10T23:38:06.998+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTotalCredits(Long)
2025-12-10T23:38:07.000+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] org.hibernate.SQL                        : 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.destination_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
2025-12-10T23:38:07.004+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.004+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalCredits=1000.0000}]
2025-12-10T23:38:07.005+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.005+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.005+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<?, ?>]
2025-12-10T23:38:07.014+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:07.017+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.019+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.022+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:07.027+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.028+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.031+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.034+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.034+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.040+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.044+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.047+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/transfer
2025-12-10T23:38:07.047+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.048+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.TransferRequest@47560281] as "application/json"
2025-12-10T23:38:07.057+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/transfer", parameters={}
2025-12-10T23:38:07.057+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#transfer(TransferRequest)
2025-12-10T23:38:07.058+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.TransferRequest@5d538dca]
2025-12-10T23:38:07.063+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] c.c.service.impl.TransactionServiceImpl  : Processing transfer from account 12 to account 13
2025-12-10T23:38:07.064+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.067+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.070+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.072+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.073+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-1] c.c.service.impl.TransactionServiceImpl  : Transfer completed successfully. Debit Transaction ID: 5, Credit Transaction ID: 6
2025-12-10T23:38:07.074+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.076+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.078+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.078+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@15d21d8e]
2025-12-10T23:38:07.079+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.079+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.079+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.087+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:07.089+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.090+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.093+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:07.096+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.097+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.100+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.102+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.104+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.106+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.109+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.110+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/deposit
2025-12-10T23:38:07.110+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.110+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.DepositRequest@43798225] as "application/json"
2025-12-10T23:38:07.117+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/deposit", parameters={}
2025-12-10T23:38:07.117+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#deposit(DepositRequest)
2025-12-10T23:38:07.118+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.DepositRequest@14230235]
2025-12-10T23:38:07.119+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-2] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 14
2025-12-10T23:38:07.120+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.121+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.122+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-2] c.c.service.impl.TransactionServiceImpl  : Deposit completed successfully. Transaction ID: 7
2025-12-10T23:38:07.123+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.124+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.124+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@73c8fec6]
2025-12-10T23:38:07.125+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.125+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.125+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.125+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/transactions/7
2025-12-10T23:38:07.125+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.128+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/transactions/7", parameters={}
2025-12-10T23:38:07.128+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionById(Long)
2025-12-10T23:38:07.129+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_id=?
2025-12-10T23:38:07.131+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.132+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@6ee1f404]
2025-12-10T23:38:07.132+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.132+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.133+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.138+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:07.141+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.144+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:07.146+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.146+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.149+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.150+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.151+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.154+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.156+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.159+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/withdraw
2025-12-10T23:38:07.159+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.159+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.WithdrawalRequest@54139c70] as "application/json"
2025-12-10T23:38:07.163+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/withdraw", parameters={}
2025-12-10T23:38:07.163+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#withdraw(WithdrawalRequest)
2025-12-10T23:38:07.164+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.WithdrawalRequest@233369a6]
2025-12-10T23:38:07.164+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-4] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 16
2025-12-10T23:38:07.164+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.167+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.168+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-4] c.c.service.impl.TransactionServiceImpl  : Withdrawal completed successfully. Transaction ID: 8
2025-12-10T23:38:07.169+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.171+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.171+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@336782df]
2025-12-10T23:38:07.172+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.172+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.172+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.179+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0
2025-12-10T23:38:07.181+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        transactions 
    where
        transaction_id=?
2025-12-10T23:38:07.183+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0
2025-12-10T23:38:07.185+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.186+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        accounts 
    where
        account_id=?
2025-12-10T23:38:07.189+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.190+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.192+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.194+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.196+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.198+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/deposit
2025-12-10T23:38:07.198+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.198+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.DepositRequest@abebd2] as "application/json"
2025-12-10T23:38:07.209+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/deposit", parameters={}
2025-12-10T23:38:07.209+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#deposit(DepositRequest)
2025-12-10T23:38:07.210+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.DepositRequest@260ab66f]
2025-12-10T23:38:07.211+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-5] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 18
2025-12-10T23:38:07.212+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.213+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.215+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-5] c.c.service.impl.TransactionServiceImpl  : Deposit completed successfully. Transaction ID: 9
2025-12-10T23:38:07.215+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.217+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.217+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@191bed22]
2025-12-10T23:38:07.218+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.218+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.218+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.220+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/transactions/withdraw
2025-12-10T23:38:07.220+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.220+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.WithdrawalRequest@37b2ecb4] as "application/json"
2025-12-10T23:38:07.225+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/transactions/withdraw", parameters={}
2025-12-10T23:38:07.225+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#withdraw(WithdrawalRequest)
2025-12-10T23:38:07.226+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.WithdrawalRequest@243626b4]
2025-12-10T23:38:07.226+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-6] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 18
2025-12-10T23:38:07.226+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_id=?
2025-12-10T23:38:07.228+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.229+05:30  INFO 22688 --- [core-banking-system] [o-auto-1-exec-6] c.c.service.impl.TransactionServiceImpl  : Withdrawal completed successfully. Transaction ID: 10
2025-12-10T23:38:07.230+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    update
        accounts 
    set
        account_number=?,
        account_type=?,
        balance=?,
        branch_id=?,
        interest_rate=?,
        minimum_balance=?,
        overdraft_limit=?,
        status=?,
        updated_at=?,
        user_id=? 
    where
        account_id=?
2025-12-10T23:38:07.232+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.232+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.TransactionResponse@52866a4a]
2025-12-10T23:38:07.232+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.232+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.232+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse]
2025-12-10T23:38:07.234+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/transactions/account/18
2025-12-10T23:38:07.235+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.237+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/transactions/account/18", parameters={}
2025-12-10T23:38:07.238+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.TransactionController#getTransactionsByAccountId(Long)
2025-12-10T23:38:07.241+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        or t1_0.destination_account_id=?
2025-12-10T23:38:07.244+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.244+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.TransactionResponse@2a81f264, com.cbs.model.dto.response.TransactionResp (truncated)...]
2025-12-10T23:38:07.245+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.245+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.245+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.TransactionResponse[]]
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.479 s -- in com.cbs.integration.TransactionIntegrationTest
[INFO] Running com.cbs.integration.UserIntegrationTest
2025-12-10T23:38:07.258+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.260+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.262+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:07.266+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.268+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@13d2a198] as "application/json"
2025-12-10T23:38:07.288+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:07.288+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:07.290+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@64151c15]
2025-12-10T23:38:07.296+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.298+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.417+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.421+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.421+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@236efa55]
2025-12-10T23:38:07.422+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.422+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.423+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.424+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:07.424+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.424+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@563f9766] as "application/json"
2025-12-10T23:38:07.427+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:07.427+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:07.427+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@5abe3fff]
2025-12-10T23:38:07.429+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.431+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.533+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.534+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.534+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@7bd7c9e2]
2025-12-10T23:38:07.537+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.537+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.537+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.538+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/users
2025-12-10T23:38:07.538+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.540+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users", parameters={}
2025-12-10T23:38:07.540+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getAllUsers()
2025-12-10T23:38:07.541+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.544+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.544+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.cbs.model.dto.response.UserResponse@211a273, com.cbs.model.dto.response.UserResponse@2d2c779a]]
2025-12-10T23:38:07.545+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.545+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.545+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse[]]
2025-12-10T23:38:07.551+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.553+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.554+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.555+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:07.555+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.555+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@69e780ff] as "application/json"
2025-12-10T23:38:07.570+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:07.571+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:07.572+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@e8771fc]
2025-12-10T23:38:07.574+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.575+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.680+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.682+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.683+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@3daa5e71]
2025-12-10T23:38:07.684+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.684+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.684+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.685+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/users/exists/username/testuser
2025-12-10T23:38:07.685+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.687+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/exists/username/testuser", parameters={}
2025-12-10T23:38:07.688+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#checkUsernameExists(String)
2025-12-10T23:38:07.689+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.690+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.690+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-12-10T23:38:07.691+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.691+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.692+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.lang.Boolean]
2025-12-10T23:38:07.692+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/users/exists/username/nonexistent
2025-12-10T23:38:07.692+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.694+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/exists/username/nonexistent", parameters={}
2025-12-10T23:38:07.694+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#checkUsernameExists(String)
2025-12-10T23:38:07.695+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.696+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.696+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-12-10T23:38:07.697+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.697+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.697+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [java.lang.Boolean]
2025-12-10T23:38:07.702+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.704+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.706+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:07.706+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.706+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@d17c7ec] as "application/json"
2025-12-10T23:38:07.710+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:07.711+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:07.712+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@46d2b517]
2025-12-10T23:38:07.714+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.715+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.819+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.821+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.821+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@67277f23]
2025-12-10T23:38:07.822+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.822+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.822+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.823+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP DELETE http://localhost:59087/api/users/10
2025-12-10T23:38:07.826+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.829+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/api/users/10", parameters={masked}
2025-12-10T23:38:07.829+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#deleteUser(Long)
2025-12-10T23:38:07.830+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-10T23:38:07.834+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        status=?,
        updated_at=?,
        username=? 
    where
        user_id=?
2025-12-10T23:38:07.834+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.836+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-12-10T23:38:07.836+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-12-10T23:38:07.837+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 204 NO_CONTENT
2025-12-10T23:38:07.838+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/users/10
2025-12-10T23:38:07.838+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.840+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/10", parameters={}
2025-12-10T23:38:07.840+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getUserById(Long)
2025-12-10T23:38:07.841+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-10T23:38:07.843+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.844+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@55c5d08d]
2025-12-10T23:38:07.844+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:07.844+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:07.844+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.850+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:07.852+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:07.853+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:07.853+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.853+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@6842531] as "application/json"
2025-12-10T23:38:07.865+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:07.865+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:07.865+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@7b6e40d9]
2025-12-10T23:38:07.868+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.870+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.974+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:07.976+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:07.976+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@75f76a25]
2025-12-10T23:38:07.977+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:07.977+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:07.978+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:07.978+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:59087/api/users/11
2025-12-10T23:38:07.979+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:07.979+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@4f185b5d] as "application/json"
2025-12-10T23:38:07.980+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/11", parameters={}
2025-12-10T23:38:07.980+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#updateUser(Long, UserRegistrationRequest)
2025-12-10T23:38:07.982+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@18d4858f]
2025-12-10T23:38:07.983+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-10T23:38:07.984+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:07.988+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:08.095+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        status=?,
        updated_at=?,
        username=? 
    where
        user_id=?
2025-12-10T23:38:08.096+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:08.097+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@1b0dd3ae]
2025-12-10T23:38:08.097+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:08.097+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:08.097+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:08.103+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-12-10T23:38:08.105+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        user_id=?
2025-12-10T23:38:08.106+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP POST http://localhost:59087/api/users/register
2025-12-10T23:38:08.106+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:08.106+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Writing [com.cbs.model.dto.request.UserRegistrationRequest@431e4e26] as "application/json"
2025-12-10T23:38:08.111+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-12-10T23:38:08.111+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#registerUser(UserRegistrationRequest)
2025-12-10T23:38:08.112+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.cbs.model.dto.request.UserRegistrationRequest@55c2f564]
2025-12-10T23:38:08.115+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:08.116+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:08.222+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:08.224+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:08.224+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@74d6b590]
2025-12-10T23:38:08.225+05:30 DEBUG 22688 --- [core-banking-system] [o-auto-1-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-10T23:38:08.225+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 201 CREATED
2025-12-10T23:38:08.226+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
2025-12-10T23:38:08.226+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:59087/api/users/12
2025-12-10T23:38:08.226+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-12-10T23:38:08.227+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/12", parameters={}
2025-12-10T23:38:08.227+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.cbs.controller.UserController#getUserById(Long)
2025-12-10T23:38:08.229+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-10T23:38:08.230+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, application/*+json] and supported [application/json, application/*+json]
2025-12-10T23:38:08.230+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.cbs.model.dto.response.UserResponse@46214a08]
2025-12-10T23:38:08.232+05:30 DEBUG 22688 --- [core-banking-system] [-auto-1-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-10T23:38:08.232+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-10T23:38:08.232+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.s.web.client.RestTemplate              : Reading to [com.cbs.model.dto.response.UserResponse]
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.986 s -- in com.cbs.integration.UserIntegrationTest
[INFO] Running com.cbs.repository.AccountRepositoryTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-12-10T23:38:08.325+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.repository.AccountRepositoryTest   : Starting AccountRepositoryTest using Java 21.0.8 with PID 22688 (started by Sudhan S in C:\Users\Sudhan S\OneDrive\Desktop\projects\Core-banking-system\core-banking-system-backend)
2025-12-10T23:38:08.325+05:30 DEBUG 22688 --- [core-banking-system] [           main] c.cbs.repository.AccountRepositoryTest   : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-12-10T23:38:08.325+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.repository.AccountRepositoryTest   : The following 1 profile is active: "test"
2025-12-10T23:38:08.611+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/callback' ...
2025-12-10T23:38:08.612+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/callback using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e ...
2025-12-10T23:38:08.612+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/callback.
2025-12-10T23:38:08.613+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classpath resources at 'classpath:db/migration' ...
2025-12-10T23:38:08.613+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e ...
2025-12-10T23:38:08.613+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to resolve location classpath:db/migration.
2025-12-10T23:38:08.613+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.classpath.ClassPathScanner     : Scanning for classes at classpath:db/migration
2025-12-10T23:38:08.616+05:30  INFO 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:h2:mem:07b0a921-9c3a-4def-842b-07476692bff0 (H2 2.2)
2025-12-10T23:38:08.616+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Driver: H2 JDBC Driver 2.2.224 (2023-09-17)
2025-12-10T23:38:08.616+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : DDL Transactions Supported: false
2025-12-10T23:38:08.616+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Schemas: 
2025-12-10T23:38:08.616+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.SchemaHistoryFactory           : Default schema: null
2025-12-10T23:38:08.617+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-12-10T23:38:08.617+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.c.SqlScriptCallbackFactory       : Scanning for SQL callbacks ...
2025-12-10T23:38:08.619+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Validating migrations ...
2025-12-10T23:38:08.620+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-12-10T23:38:08.621+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : Successfully validated 0 migrations (execution time 00:00.000s)
2025-12-10T23:38:08.621+05:30  WARN 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbValidate     : No migrations found. Are your locations set up correctly?
2025-12-10T23:38:08.621+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbSchemas      : Skipping creation of existing schema: "PUBLIC"
2025-12-10T23:38:08.622+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-12-10T23:38:08.622+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.flywaydb.core.internal.parser.Parser   : Parsing  ...
2025-12-10T23:38:08.624+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.sqlscript.ParserSqlScript        : Found statement at line 1: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE
2025-12-10T23:38:08.624+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.sqlscript.ParserSqlScript        : Found statement at line 14: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2025-12-10T23:38:08.624+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : Executing SQL: CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE
2025-12-10T23:38:08.626+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected
2025-12-10T23:38:08.626+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : Executing SQL: CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
2025-12-10T23:38:08.627+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected
2025-12-10T23:38:08.627+05:30 DEBUG 22688 --- [core-banking-system] [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Created Schema History table "PUBLIC"."flyway_schema_history"
2025-12-10T23:38:08.629+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2025-12-10T23:38:08.629+05:30  INFO 22688 --- [core-banking-system] [           main] o.f.core.internal.command.DbMigrate      : Schema "PUBLIC" is up to date. No migration necessary.
2025-12-10T23:38:08.630+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.flywaydb.core.FlywayExecutor         : Memory usage: 75 of 120M
2025-12-10T23:38:08.648+05:30  INFO 22688 --- [core-banking-system] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10T23:38:08.654+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-10T23:38:08.663+05:30  WARN 22688 --- [core-banking-system] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10T23:38:08.795+05:30  INFO 22688 --- [core-banking-system] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10T23:38:08.795+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists accounts cascade 
Hibernate: 
    drop table if exists accounts cascade 
2025-12-10T23:38:08.796+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists kyc cascade 
Hibernate: 
    drop table if exists kyc cascade 
2025-12-10T23:38:08.796+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists loans cascade 
Hibernate: 
    drop table if exists loans cascade 
2025-12-10T23:38:08.796+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
Hibernate: 
    drop table if exists transactions cascade 
2025-12-10T23:38:08.796+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
Hibernate: 
    drop table if exists users cascade 
2025-12-10T23:38:08.797+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table accounts (
        balance numeric(19,4) not null,
        interest_rate numeric(5,4),
        minimum_balance numeric(19,4),
        overdraft_limit numeric(19,4),
        account_id bigint generated by default as identity,
        branch_id bigint,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint not null,
        account_number varchar(255) not null unique,
        account_type varchar(255) not null check (account_type in ('SAVINGS','CURRENT','FIXED_DEPOSIT','RECURRING_DEPOSIT','SALARY_ACCOUNT')),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','FROZEN','CLOSED','PENDING_APPROVAL')),
        primary key (account_id)
    )
Hibernate: 
    create table accounts (
        balance numeric(19,4) not null,
        interest_rate numeric(5,4),
        minimum_balance numeric(19,4),
        overdraft_limit numeric(19,4),
        account_id bigint generated by default as identity,
        branch_id bigint,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint not null,
        account_number varchar(255) not null unique,
        account_type varchar(255) not null check (account_type in ('SAVINGS','CURRENT','FIXED_DEPOSIT','RECURRING_DEPOSIT','SALARY_ACCOUNT')),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','FROZEN','CLOSED','PENDING_APPROVAL')),
        primary key (account_id)
    )
2025-12-10T23:38:08.798+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table kyc (
        is_primary_document boolean,
        created_at timestamp(6) not null,
        expiry_date timestamp(6),
        kyc_id bigint generated by default as identity,
        submission_date timestamp(6),
        updated_at timestamp(6),
        user_id bigint not null,
        verification_date timestamp(6),
        verified_by bigint,
        additional_info TEXT,
        document_hash varchar(255),
        document_number varchar(255) not null,
        document_type varchar(255) not null check (document_type in ('AADHAAR_CARD','PAN_CARD','PASSPORT','VOTER_ID','DRIVING_LICENSE','BANK_STATEMENT','UTILITY_BILL','PASSPORT_PHOTO','SIGNATURE','ADDRESS_PROOF','INCOME_PROOF','IDENTITY_PROOF')),
        document_url varchar(255),
        rejection_reason varchar(255),
        status varchar(255) not null check (status in ('PENDING','SUBMITTED','UNDER_REVIEW','APPROVED','REJECTED','EXPIRED','RESUBMISSION_REQUIRED')),
        primary key (kyc_id)
    )
Hibernate: 
    create table kyc (
        is_primary_document boolean,
        created_at timestamp(6) not null,
        expiry_date timestamp(6),
        kyc_id bigint generated by default as identity,
        submission_date timestamp(6),
        updated_at timestamp(6),
        user_id bigint not null,
        verification_date timestamp(6),
        verified_by bigint,
        additional_info TEXT,
        document_hash varchar(255),
        document_number varchar(255) not null,
        document_type varchar(255) not null check (document_type in ('AADHAAR_CARD','PAN_CARD','PASSPORT','VOTER_ID','DRIVING_LICENSE','BANK_STATEMENT','UTILITY_BILL','PASSPORT_PHOTO','SIGNATURE','ADDRESS_PROOF','INCOME_PROOF','IDENTITY_PROOF')),
        document_url varchar(255),
        rejection_reason varchar(255),
        status varchar(255) not null check (status in ('PENDING','SUBMITTED','UNDER_REVIEW','APPROVED','REJECTED','EXPIRED','RESUBMISSION_REQUIRED')),
        primary key (kyc_id)
    )
2025-12-10T23:38:08.801+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table loans (
        application_date date not null,
        approval_date date,
        collateral_value numeric(19,4) not null,
        disbursement_date date,
        interest_rate numeric(5,4) not null,
        late_payment_penalty numeric(19,4) not null,
        loan_term_months integer not null,
        maturity_date date,
        monthly_payment numeric(19,4) not null,
        principal_amount numeric(19,4) not null,
        processing_fees numeric(19,4) not null,
        total_interest numeric(19,4) not null,
        account_id bigint not null,
        created_at timestamp(6) not null,
        guarantor_id bigint not null,
        loan_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        collateral_type varchar(255) not null,
        interest_type varchar(255) not null,
        loan_type varchar(255) not null check (loan_type in ('PERSONAL','HOME_LOAN','AUTO_LOAN','BUSINESS_LOAN','MORTGAGE','EDUCATION_LOAN','DEBT_CONSOLIDATION')),
        status varchar(255) not null check (status in ('PENDING_APPROVAL','APPROVED','ACTIVE','IN_REPAYMENT','DEFAULTED','CLOSED','WRITTEN_OFF','RESTRUCTURED')),
        primary key (loan_id)
    )
Hibernate: 
    create table loans (
        application_date date not null,
        approval_date date,
        collateral_value numeric(19,4) not null,
        disbursement_date date,
        interest_rate numeric(5,4) not null,
        late_payment_penalty numeric(19,4) not null,
        loan_term_months integer not null,
        maturity_date date,
        monthly_payment numeric(19,4) not null,
        principal_amount numeric(19,4) not null,
        processing_fees numeric(19,4) not null,
        total_interest numeric(19,4) not null,
        account_id bigint not null,
        created_at timestamp(6) not null,
        guarantor_id bigint not null,
        loan_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        collateral_type varchar(255) not null,
        interest_type varchar(255) not null,
        loan_type varchar(255) not null check (loan_type in ('PERSONAL','HOME_LOAN','AUTO_LOAN','BUSINESS_LOAN','MORTGAGE','EDUCATION_LOAN','DEBT_CONSOLIDATION')),
        status varchar(255) not null check (status in ('PENDING_APPROVAL','APPROVED','ACTIVE','IN_REPAYMENT','DEFAULTED','CLOSED','WRITTEN_OFF','RESTRUCTURED')),
        primary key (loan_id)
    )
2025-12-10T23:38:08.803+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(19,4) not null,
        balance_after numeric(19,4),
        fee_amount numeric(19,4),
        created_at timestamp(6) not null,
        destination_account_id bigint,
        related_transaction_id bigint,
        source_account_id bigint,
        transaction_date timestamp(6) not null,
        transaction_id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        description varchar(255),
        status varchar(255) not null check (status in ('PENDING','COMPLETED','FAILED','REVERSED','CANCELLED')),
        transaction_reference varchar(255) not null unique,
        transaction_type varchar(255) not null check (transaction_type in ('DEPOSIT','WITHDRAWAL','TRANSFER','INTEREST_CREDIT','FEE_DEDUCTION','LOAN_DISBURSEMENT','LOAN_REPAYMENT','REFUND')),
        primary key (transaction_id)
    )
Hibernate: 
    create table transactions (
        amount numeric(19,4) not null,
        balance_after numeric(19,4),
        fee_amount numeric(19,4),
        created_at timestamp(6) not null,
        destination_account_id bigint,
        related_transaction_id bigint,
        source_account_id bigint,
        transaction_date timestamp(6) not null,
        transaction_id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        description varchar(255),
        status varchar(255) not null check (status in ('PENDING','COMPLETED','FAILED','REVERSED','CANCELLED')),
        transaction_reference varchar(255) not null unique,
        transaction_type varchar(255) not null check (transaction_type in ('DEPOSIT','WITHDRAWAL','TRANSFER','INTEREST_CREDIT','FEE_DEDUCTION','LOAN_DISBURSEMENT','LOAN_REPAYMENT','REFUND')),
        primary key (transaction_id)
    )
2025-12-10T23:38:08.806+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint generated by default as identity,
        email varchar(255) not null unique,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        phone_number varchar(255),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','SUSPENDED','PENDING_VERIFICATION')),
        username varchar(255) not null unique,
        primary key (user_id)
    )
Hibernate: 
    create table users (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        user_id bigint generated by default as identity,
        email varchar(255) not null unique,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        phone_number varchar(255),
        status varchar(255) not null check (status in ('ACTIVE','INACTIVE','SUSPENDED','PENDING_VERIFICATION')),
        username varchar(255) not null unique,
        primary key (user_id)
    )
=== Environment Check ===
Database URL: jdbc:h2:mem:testdb
Database Username: sa
========================
2025-12-10T23:38:09.041+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.repository.AccountRepositoryTest   : Started AccountRepositoryTest in 0.761 seconds (process running for 28.574)
2025-12-10T23:38:09.063+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.071+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=?
2025-12-10T23:38:09.085+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.089+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.status=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.status=?
2025-12-10T23:38:09.095+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.099+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=?
2025-12-10T23:38:09.104+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.108+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
Hibernate: 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
2025-12-10T23:38:09.112+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.118+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.balance<?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.balance<?
2025-12-10T23:38:09.126+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.131+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.status=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.status=?
2025-12-10T23:38:09.139+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.144+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_type=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_type=?
2025-12-10T23:38:09.151+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=?
2025-12-10T23:38:09.159+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.165+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        count(a1_0.account_id) 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.status=?
Hibernate: 
    select
        count(a1_0.account_id) 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.status=?
2025-12-10T23:38:09.172+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        accounts
        (account_number, account_type, balance, branch_id, created_at, interest_rate, minimum_balance, overdraft_limit, status, updated_at, user_id, account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.176+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.account_type=? 
        and a1_0.status=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_number,
        a1_0.account_type,
        a1_0.balance,
        a1_0.branch_id,
        a1_0.created_at,
        a1_0.interest_rate,
        a1_0.minimum_balance,
        a1_0.overdraft_limit,
        a1_0.status,
        a1_0.updated_at,
        a1_0.user_id 
    from
        accounts a1_0 
    where
        a1_0.user_id=? 
        and a1_0.account_type=? 
        and a1_0.status=?
2025-12-10T23:38:09.185+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
Hibernate: 
    select
        a1_0.account_id 
    from
        accounts a1_0 
    where
        a1_0.account_number=? 
    fetch
        first ? rows only
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.948 s -- in com.cbs.repository.AccountRepositoryTest
[INFO] Running com.cbs.repository.LoanRepositoryTest
2025-12-10T23:38:09.221+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.229+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.status=?
Hibernate: 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-10T23:38:09.235+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.242+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.account_id=?
Hibernate: 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.account_id=?
2025-12-10T23:38:09.249+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.255+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.account_id=? 
        and l1_0.status=?
Hibernate: 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.account_id=? 
        and l1_0.status=?
2025-12-10T23:38:09.262+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        loans
        (account_id, application_date, approval_date, collateral_type, collateral_value, created_at, disbursement_date, guarantor_id, interest_rate, interest_type, late_payment_penalty, loan_term_months, loan_type, maturity_date, monthly_payment, principal_amount, processing_fees, status, total_interest, updated_at, loan_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.266+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.loan_type=?
Hibernate: 
    select
        l1_0.loan_id,
        l1_0.account_id,
        l1_0.application_date,
        l1_0.approval_date,
        l1_0.collateral_type,
        l1_0.collateral_value,
        l1_0.created_at,
        l1_0.disbursement_date,
        l1_0.guarantor_id,
        l1_0.interest_rate,
        l1_0.interest_type,
        l1_0.late_payment_penalty,
        l1_0.loan_term_months,
        l1_0.loan_type,
        l1_0.maturity_date,
        l1_0.monthly_payment,
        l1_0.principal_amount,
        l1_0.processing_fees,
        l1_0.status,
        l1_0.total_interest,
        l1_0.updated_at 
    from
        loans l1_0 
    where
        l1_0.loan_type=?
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 s -- in com.cbs.repository.LoanRepositoryTest
[INFO] Running com.cbs.repository.TransactionRepositoryTest
2025-12-10T23:38:09.296+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.301+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_reference=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_reference=?
2025-12-10T23:38:09.307+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.312+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_type=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_type=?
2025-12-10T23:38:09.319+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.322+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.326+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.related_transaction_id=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.related_transaction_id=?
2025-12-10T23:38:09.332+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.336+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.status=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.status=?
2025-12-10T23:38:09.342+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.346+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.user_id=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.user_id=?
2025-12-10T23:38:09.350+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.356+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        or t1_0.destination_account_id=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        or t1_0.destination_account_id=?
2025-12-10T23:38:09.362+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.365+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
Hibernate: 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
2025-12-10T23:38:09.372+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.376+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.destination_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
Hibernate: 
    select
        sum(t1_0.amount) 
    from
        transactions t1_0 
    where
        t1_0.destination_account_id=? 
        and t1_0.status=? 
        and t1_0.transaction_type=?
2025-12-10T23:38:09.382+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_reference=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_reference=?
2025-12-10T23:38:09.389+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.393+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.user_id=? 
        and t1_0.status=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.user_id=? 
        and t1_0.status=?
2025-12-10T23:38:09.397+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.401+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        count(t1_0.transaction_id) 
    from
        transactions t1_0 
    where
        t1_0.status=?
Hibernate: 
    select
        count(t1_0.transaction_id) 
    from
        transactions t1_0 
    where
        t1_0.status=?
2025-12-10T23:38:09.406+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.410+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.source_account_id=?
2025-12-10T23:38:09.415+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.419+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.destination_account_id=?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.destination_account_id=?
2025-12-10T23:38:09.424+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        transactions
        (amount, balance_after, created_at, description, destination_account_id, fee_amount, related_transaction_id, source_account_id, status, transaction_date, transaction_reference, transaction_type, updated_at, user_id, transaction_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.430+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_date between ? and ?
Hibernate: 
    select
        t1_0.transaction_id,
        t1_0.amount,
        t1_0.balance_after,
        t1_0.created_at,
        t1_0.description,
        t1_0.destination_account_id,
        t1_0.fee_amount,
        t1_0.related_transaction_id,
        t1_0.source_account_id,
        t1_0.status,
        t1_0.transaction_date,
        t1_0.transaction_reference,
        t1_0.transaction_type,
        t1_0.updated_at,
        t1_0.user_id 
    from
        transactions t1_0 
    where
        t1_0.transaction_date between ? and ?
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.160 s -- in com.cbs.repository.TransactionRepositoryTest
[INFO] Running com.cbs.repository.UserRepositoryTest
2025-12-10T23:38:09.456+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.463+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=? 
        and u1_0.status=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=? 
        and u1_0.status=?
2025-12-10T23:38:09.470+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:09.476+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.479+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-10T23:38:09.483+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.487+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:09.493+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-12-10T23:38:09.501+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10T23:38:09.507+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.510+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=? 
        and u1_0.status=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=? 
        and u1_0.status=?
2025-12-10T23:38:09.516+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-10T23:38:09.523+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.525+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.user_id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-12-10T23:38:09.529+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, last_name, password, phone_number, status, updated_at, username, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-12-10T23:38:09.533+05:30 DEBUG 22688 --- [core-banking-system] [           main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.100 s -- in com.cbs.repository.UserRepositoryTest
[INFO] Running com.cbs.service.AccountServiceImplTest
2025-12-10T23:38:09.835+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Account 1 marked as closed
2025-12-10T23:38:09.847+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Creating account for user ID: 1
2025-12-10T23:38:09.847+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Account created successfully with ID: 1
2025-12-10T23:38:09.850+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Deposited 500.00 to account ID: 1
2025-12-10T23:38:09.865+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Withdrew 500.00 from account ID: 1
2025-12-10T23:38:09.872+05:30  INFO 22688 --- [core-banking-system] [           main] c.cbs.service.impl.AccountServiceImpl    : Account status updated to FROZEN for account ID: 1
[INFO] Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.330 s -- in com.cbs.service.AccountServiceImplTest
[INFO] Running com.cbs.service.LoanServiceImplTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.146 s -- in com.cbs.service.LoanServiceImplTest
[INFO] Running com.cbs.service.TransactionServiceImplTest
2025-12-10T23:38:10.217+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 1
2025-12-10T23:38:10.229+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 1
2025-12-10T23:38:10.229+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Deposit completed successfully. Transaction ID: 1
2025-12-10T23:38:10.236+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Transaction reversal completed. Original ID: 1, Reversal ID: 2
2025-12-10T23:38:10.240+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 1
2025-12-10T23:38:10.244+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing transfer from account 1 to account 2
2025-12-10T23:38:10.245+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Transfer completed successfully. Debit Transaction ID: 1, Credit Transaction ID: 1
2025-12-10T23:38:10.248+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing transfer from account 1 to account 2
2025-12-10T23:38:10.252+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing withdrawal for account ID: 1
2025-12-10T23:38:10.252+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Withdrawal completed successfully. Transaction ID: 1
2025-12-10T23:38:10.257+05:30  INFO 22688 --- [core-banking-system] [           main] c.c.service.impl.TransactionServiceImpl  : Processing deposit for account ID: 1
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.236 s -- in com.cbs.service.TransactionServiceImplTest
[INFO] Running com.cbs.service.UserServiceImplTest
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.214 s -- in com.cbs.service.UserServiceImplTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 138, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  40.104 s
[INFO] Finished at: 2025-12-10T23:38:10+05:30
[INFO] ------------------------------------------------------------------------
